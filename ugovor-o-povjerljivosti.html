<!DOCTYPE html>
<html lang="sr-Latn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Izrada Ugovora o Povjerljivosti (NDA) Online | Pravne Usluge Crna Gora</title>
    <meta name="description" content="Zaštitite svoje poslovne tajne. Zatražite brzu i stručnu izradu Ugovora o povjerljivosti (NDA) u skladu sa zakonima Crne Gore.">
    <meta name="keywords" content="ugovor o povjerljivosti, nda crna gora, zaštita poslovne tajne, online pravne usluge, ugovor24">
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="https://ugovor24-site.vercel.app/favicon.ico">
</head>
<body>
    <header>
        <div class="header-container">
            <a href="index.html" class="logo">
                ugovor<span class="logo-blue">24</span>.com
            </a>
            <nav>
                <a href="index.html">Početna</a>
                <a href="ugovori.html">Ugovori</a>
                <a href="kontakt.html">Kontakt</a>
            </nav>
        </div>
    </header>

    <main>
        <div class="form-container">
            <h1>Ugovor o povjerljivosti (NDA)</h1>
            <p class="form-intro">Molimo popunite formular ispod kako biste generisali Vaš Ugovor o povjerljivosti. Nakon popunjavanja, bićete preusmjereni na stranicu za plaćanje.</p>
            
            <form id="ugovor-o-povjerljivosti-form">
                
                <input type="hidden" name="ugovor_type" value="Ugovor o povjerljivosti (NDA)">

                <div class="form-section">
                    <h3>Opšte informacije</h3>
                    <label for="tip_ugovora">Tip ugovora:</label>
                    <select id="tip_ugovora" name="tip_ugovora" required>
                        <option value="">Izaberite tip</option>
                        <option value="Jednostrani">Jednostrani</option>
                        <option value="Dvostrani">Dvostrani</option>
                    </select>

                    <label for="mjesto_zakljucenja">Mjesto zaključenja:</label>
                    <input type="text" id="mjesto_zakljucenja" name="mjesto_zakljucenja" required>

                    <label for="datum_zakljucenja">Datum zaključenja:</label>
                    <input type="date" id="datum_zakljucenja" name="datum_zakljucenja" required>

                    <label for="svrha_otkrivanja">Svrha otkrivanja povjerljivih informacija:</label>
                    <textarea id="svrha_otkrivanja" name="svrha_otkrivanja" rows="4" required></textarea>
                </div>

                <div class="form-section" id="jednostrani-fields">
                    <h3>Strane u Ugovoru (Jednostrani)</h3>
                    <p>Ovaj tip se koristi kada samo jedna strana otkriva informacije, a druga ih prima i obavezuje se na čuvanje tajnosti.</p>
                    <label for="naziv_strane_koja_otkriva">Naziv Strane koja otkriva:</label>
                    <input type="text" id="naziv_strane_koja_otkriva" name="naziv_strane_koja_otkriva">
                    
                    <label for="adresa_strane_koja_otkriva">Adresa Strane koja otkriva:</label>
                    <input type="text" id="adresa_strane_koja_otkriva" name="adresa_strane_koja_otkriva">

                    <label for="id_broj_strane_koja_otkriva">ID broj (JMBG/PIB) Strane koja otkriva:</label>
                    <input type="text" id="id_broj_strane_koja_otkriva" name="id_broj_strane_koja_otkriva">

                    <label for="naziv_strane_koja_prima">Naziv Strane koja prima:</label>
                    <input type="text" id="naziv_strane_koja_prima" name="naziv_strane_koja_prima">
                    
                    <label for="adresa_strane_koja_prima">Adresa Strane koja prima:</label>
                    <input type="text" id="adresa_strane_koja_prima" name="adresa_strane_koja_prima">

                    <label for="id_broj_strane_koja_prima">ID broj (JMBG/PIB) Strane koja prima:</label>
                    <input type="text" id="id_broj_strane_koja_prima" name="id_broj_strane_koja_prima">
                </div>

                <div class="form-section" id="dvostrani-fields" style="display:none;">
                    <h3>Strane u Ugovoru (Dvostrani)</h3>
                    <p>Ovaj tip se koristi kada obje strane otkrivaju i primaju povjerljive informacije.</p>
                    <label for="naziv_strane_a">Naziv Strane A:</label>
                    <input type="text" id="naziv_strane_a" name="naziv_strane_a">
                    
                    <label for="adresa_strane_a">Adresa Strane A:</label>
                    <input type="text" id="adresa_strane_a" name="adresa_strane_a">

                    <label for="id_broj_strane_a">ID broj (JMBG/PIB) Strane A:</label>
                    <input type="text" id="id_broj_strane_a" name="id_broj_strane_a">

                    <label for="naziv_strane_b">Naziv Strane B:</label>
                    <input type="text" id="naziv_strane_b" name="naziv_strane_b">
                    
                    <label for="adresa_strane_b">Adresa Strane B:</label>
                    <input type="text" id="adresa_strane_b" name="adresa_strane_b">

                    <label for="id_broj_strane_b">ID broj (JMBG/PIB) Strane B:</label>
                    <input type="text" id="id_broj_strane_b" name="id_broj_strane_b">
                </div>

                <div class="form-section">
                    <h3>Trajanje i kazna</h3>
                    <label for="period_trajanja_obaveze">Trajanje obaveze čuvanja tajnosti nakon prestanka ugovora:</label>
                    <select id="period_trajanja_obaveze" name="period_trajanja_obaveze" required>
                        <option value="">Izaberite period</option>
                        <option value="1 godina">1 godina</option>
                        <option value="2 godine">2 godine</option>
                        <option value="5 godina">5 godina</option>
                        <option value="10 godina">10 godina</option>
                    </select>

                    <label for="ugovorena_kazna">Želite li ugovorenu kaznu?</label>
                    <select id="ugovorena_kazna" name="ugovorena_kazna" required>
                        <option value="Ne">Ne</option>
                        <option value="Da">Da</option>
                    </select>

                    <div id="iznos_kazne_field" style="display:none;">
                        <label for="iznos_ugovorene_kazne">Iznos ugovorene kazne (u EUR):</label>
                        <input type="number" id="iznos_ugovorene_kazne" name="iznos_ugovorene_kazne">
                    </div>
                </div>

                <div class="form-section">
                    <h3>Vaši podaci</h3>
                    <label for="client_email">Vaš e-mail:</label>
                    <input type="email" id="client_email" name="client_email" required>
                </div>
                
                <div class="form-actions">
                    <div class="terms-checkbox">
                        <input type="checkbox" id="terms_acceptance" name="terms_acceptance" required>
                        <label for="terms_acceptance">Saglasan/na sam sa <a href="uslovi_koriscenja.html" target="_blank">Uslovima korišćenja</a> i <a href="politika_privatnosti.html" target="_blank">Politikom privatnosti</a>.</label>
                    </div>
                    <button type="submit" class="submit-button">Generiši Ugovor (29 EUR)</button>
                </div>
            </form>
        </div>
    </main>

    <footer>
        <p>&copy; 2025 ugovor24.com. Sva prava zadržana.</p>
    </footer>

    <script>
        const tipUgovoraSelect = document.getElementById('tip_ugovora');
        const jednostraniFields = document.getElementById('jednostrani-fields');
        const dvostraniFields = document.getElementById('dvostrani-fields');

        tipUgovoraSelect.addEventListener('change', (e) => {
            if (e.target.value === 'Jednostrani') {
                jednostraniFields.style.display = 'block';
                dvostraniFields.style.display = 'none';
                
                jednostraniFields.querySelectorAll('input').forEach(input => input.required = true);
                dvostraniFields.querySelectorAll('input').forEach(input => input.required = false);
            } else if (e.target.value === 'Dvostrani') {
                jednostraniFields.style.display = 'none';
                dvostraniFields.style.display = 'block';
                
                jednostraniFields.querySelectorAll('input').forEach(input => input.required = false);
                dvostraniFields.querySelectorAll('input').forEach(input => input.required = true);
            } else {
                jednostraniFields.style.display = 'none';
                dvostraniFields.style.display = 'none';
                
                jednostraniFields.querySelectorAll('input').forEach(input => input.required = false);
                dvostraniFields.querySelectorAll('input').forEach(input => input.required = false);
            }
        });

        const ugovorenaKaznaSelect = document.getElementById('ugovorena_kazna');
        const iznosKazneField = document.getElementById('iznos_kazne_field');

        ugovorenaKaznaSelect.addEventListener('change', (e) => {
            if (e.target.value === 'Da') {
                iznosKazneField.style.display = 'block';
                document.getElementById('iznos_ugovorene_kazne').required = true;
            } else {
                iznosKazneField.style.display = 'none';
                document.getElementById('iznos_ugovorene_kazne').required = false;
            }
        });

        // Novi kod za slanje forme
        const currentForm = document.querySelector('form');
        currentForm.addEventListener('submit', async (event) => {
            event.preventDefault(); // Sprečavamo standardno slanje forme

            const submitButton = currentForm.querySelector('button[type="submit"]');
            const originalButtonText = submitButton.textContent;
            submitButton.disabled = true;
            submitButton.textContent = 'Šaljem podatke...';

            const formData = new FormData(currentForm);
            const data = Object.fromEntries(formData.entries());

            try {
                const response = await fetch('/api/submit-form.js', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data),
                });

                const result = await response.json();

                if (response.ok && result.success) {
                    window.location.href = result.redirectUrl;
                } else {
                    alert('Došlo je do greške: ' + (result.error || 'Molimo pokušajte ponovo.'));
                    submitButton.disabled = false;
                    submitButton.textContent = originalButtonText;
                }
            } catch (error) {
                console.error('Greška pri slanju forme:', error);
                alert('Došlo je do neočekivane greške. Molimo provjerite Vašu internet konekciju i pokušajte ponovo.');
                submitButton.disabled = false;
                submitButton.textContent = originalButtonText;
            }
        });
    </script>
</body>
</html>
